# Financial Portal Backend

Backend API –¥–ª—è —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–≥–æ –ø–æ—Ä—Ç–∞–ª–∞ –Ω–∞ Node.js —Å Express –∏ MySQL.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
npm install
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–∫–æ–ø–∏—Ä—É–π—Ç–µ `env.example` –≤ `.env` –∏ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:
```bash
cp env.example .env
```

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `.env`:
```env
# Database Configuration
DB_HOST=localhost
DB_PORT=3306
DB_USER=finportal_user
DB_PASSWORD=your_secure_password
DB_NAME=finportal_db

# Server Configuration
PORT=3001
NODE_ENV=production

# JWT Configuration
JWT_SECRET=your_super_secret_jwt_key_here
JWT_EXPIRES_IN=24h

# CORS Configuration
CORS_ORIGIN=http://90.156.155.229:8080
```

### 3. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```bash
node init-db.js
```

### 4. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
```bash
# Production
npm start

# Development
npm run dev
```

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### –¢–∞–±–ª–∏—Ü—ã:
- **users** - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ —Å–∏—Å—Ç–µ–º—ã
- **projects** - –ü—Ä–æ–µ–∫—Ç—ã
- **project_stages** - –≠—Ç–∞–ø—ã –ø—Ä–æ–µ–∫—Ç–æ–≤
- **project_costs** - –ó–∞—Ç—Ä–∞—Ç—ã –ø—Ä–æ–µ–∫—Ç–æ–≤
- **constants** - –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã

### –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:
- `admin/admin123` - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
- `kam1/kam123` - –ò–≤–∞–Ω –ü–µ—Ç—Ä–æ–≤ (–ö–ê–ú)
- `calc1/calc123` - –ú–∞—Ä–∏—è –°–∏–¥–æ—Ä–æ–≤–∞ (–ú–µ–Ω–µ–¥–∂–µ—Ä —Ä–∞—Å—á–µ—Ç–æ–≤)
- `ce1/ce123` - –ê–ª–µ–∫—Å–µ–π –ö–æ–∑–ª–æ–≤ (–ú–µ–Ω–µ–¥–∂–µ—Ä —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏)

## üîå API Endpoints

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- `POST /api/auth/login` - –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
- `GET /api/auth/verify` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞
- `GET /api/auth/users` - –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –ü—Ä–æ–µ–∫—Ç—ã
- `GET /api/projects` - –°–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤
- `GET /api/projects/:projectId` - –î–µ—Ç–∞–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞
- `POST /api/projects` - –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- `PUT /api/projects/:projectId` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
- `DELETE /api/projects/:projectId` - –£–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

### –ó–∞—Ç—Ä–∞—Ç—ã
- `GET /api/costs/:projectId` - –ó–∞—Ç—Ä–∞—Ç—ã –ø—Ä–æ–µ–∫—Ç–∞
- `POST /api/costs/:projectId` - –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∑–∞—Ç—Ä–∞—Ç
- `POST /api/costs/:projectId/stages` - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —ç—Ç–∞–ø–∞
- `DELETE /api/costs/:projectId/stages/:stageNumber` - –£–¥–∞–ª–µ–Ω–∏–µ —ç—Ç–∞–ø–∞

### –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã
- `GET /api/constants` - –°–ø–∏—Å–æ–∫ –∫–æ–Ω—Å—Ç–∞–Ω—Ç
- `GET /api/constants/:constantId` - –î–µ—Ç–∞–ª–∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
- `POST /api/constants` - –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
- `PUT /api/constants/:constantId` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
- `DELETE /api/constants/:constantId` - –£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã
- `POST /api/constants/init` - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é

### –°–∏—Å—Ç–µ–º–∞
- `GET /api/health` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–µ—Ä–∞

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- JWT –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
- –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π (bcrypt)
- CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- Rate limiting
- Helmet –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤

## üõ† –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:
```
backend/
‚îú‚îÄ‚îÄ config/
‚îÇ   ‚îî‚îÄ‚îÄ database.js      # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –ë–î
‚îú‚îÄ‚îÄ routes/
‚îÇ   ‚îú‚îÄ‚îÄ auth.js          # –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ projects.js      # –ü—Ä–æ–µ–∫—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ costs.js         # –ó–∞—Ç—Ä–∞—Ç—ã
‚îÇ   ‚îî‚îÄ‚îÄ constants.js     # –ö–æ–Ω—Å—Ç–∞–Ω—Ç—ã
‚îú‚îÄ‚îÄ server.js            # –û—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–µ—Ä
‚îú‚îÄ‚îÄ init-db.js           # –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ë–î
‚îú‚îÄ‚îÄ package.json
‚îî‚îÄ‚îÄ README.md
```

### –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
- –õ–æ–≥–∏ –æ—à–∏–±–æ–∫ –≤ –∫–æ–Ω—Å–æ–ª—å
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤–Ω–µ—à–Ω–∏—Ö –ª–æ–≥–≥–µ—Ä–æ–≤

## üöÄ –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ

### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Node.js –∏ npm
2. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª—ã –±—ç–∫–µ–Ω–¥–∞
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ `.env`
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `node init-db.js`
5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `npm start`

### –° PM2:
```bash
npm install -g pm2
pm2 start server.js --name finportal-backend
pm2 save
pm2 startup
```

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT 